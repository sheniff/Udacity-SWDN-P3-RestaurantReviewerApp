<md-content layout="row" layout-wrap style="background-color:#DCDCDC">
    <div flex-md flex-gt-md="50" layout="column">
        <md-card>
            <div style="height: 200px;overflow: hidden">
                <img style="transform: translateY(-220px)" ng-src="{{ vm.restaurant.picture }}" alt="{{ vm.restaurant.name }} photo" class="md-card-image">
            </div>
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">{{ vm.restaurant.name }}</span>
                <small>{{ vm.restaurant.type.join(', ') }}</small>
              </md-card-title-text>
            </md-card-title>
            <md-card-content>
                <p>
                    <strong>{{ vm.restaurant.address }}</strong>
                    <br>
                    <span>{{ vm.restaurant.hours.text }}</span>
                </p>
            </md-card-content>
        </md-card>

        <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Leave a review
                <br>
                <small>for {{ vm.restaurant.name }}</small></span>
              </md-card-title-text>
            </md-card-title>
            <md-card-content>

                <form name="reviewForm" ng-submit="vm.saveReview(vm.newReview.rating, vm.newReview.comment)" novalidate>
                    <!-- ToDo: Reescribir este componente para escoger estrellitas :P (un selector serÃ­a lo mas facil) -->
                    <md-input-container class="md-block">
                        <label>Rating</label>
                        <input type="number" max="5" min="1" name="rating" id="rating" ng-model="vm.newReview.rating">
                        <div ng-messages="reviewForm.rating.$error">
                          <div ng-message="required">Rating is required.</div>
                          <div ng-message="max">The maximum rating is 5 stars.</div>
                          <div ng-message="min">The minimum rating is 1 star.</div>
                        </div>
                    </md-input-container>

                    <md-input-container class="md-block">
                        <label>Comment</label>
                        <textarea name="comment" id="comment" ng-model="vm.newReview.comment" required></textarea>
                        <div ng-messages="reviewForm.comment.$error">
                          <div ng-message="required">Comment is required.</div>
                        </div>
                    </md-input-container>

                    <md-button type="submit" class="md-primary md-raised" aria-label="Send" ng-disabled="reviewForm.$invalid">Send</md-button>
                    <md-button aria-label="Cancel" ng-click="vm.clearForm()">Clear</md-button>
                </form>

            </md-card-content>
        </md-card>
    </div>

    <div flex-md flex-gt-md="50" layout="column">
        <md-card flex>
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Reviews</span>
              </md-card-title-text>
            </md-card-title>
            <md-card-content>
                <md-list flex>
                    <md-list-item class="md-3-line" ng-repeat="review in vm.restaurant.reviews" ng-click="null">
                        <div class="md-list-item-text" layout="column" style="padding-top: 10px; padding-bottom: 10px;">
                            <div layout="row">
                                <img ng-src="{{review.avatar}}" class="md-avatar" alt="{{review.reviewer}}" />
                                <div layout="column">
                                    <h3>{{ review.reviewer }}</h3>
                                    <h4><ng-md-icon ng-repeat="a in vm.getNumber(review.rating) track by $index" icon="star"></ng-md-icon>
                                    <small>{{ review.timestamp | date }}</small></h4>
                                </div>
                            </div>
                            <p>{{ review.comment }}</p>
                        </div>
                        <md-divider ng-if="!$last"></md-divider>
                    </md-list-item>
                </md-list>
            </md-card-content>
        </md-card>
    </div>
</md-content>

